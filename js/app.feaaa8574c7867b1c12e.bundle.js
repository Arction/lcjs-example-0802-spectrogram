(self.webpackChunk=self.webpackChunk||[]).push([[143],{138:(e,t,n)=>{const a=n(809),{lightningChart:s,PalettedFill:r,LUT:o,emptyFill:l,emptyLine:i,AxisScrollStrategies:c,AxisTickStrategies:d,ColorHSV:u,synchronizeAxisIntervals:h,Themes:m}=a,y=new(window.AudioContext||window.webkitAudioContext),p=4096,f=2048,g=s(),b=(e,t,n)=>{const a=Array.from(e),s=Array.from(Array(t)).map((()=>Array.from(Array(n))));for(let e=0;e<t;e+=1)for(let r=0;r<n;r+=1)s[e][r]=a[r*t+e];return s},x=(e,t,n,a,s,h,m,y)=>{const p=e.createChartXY({columnIndex:0,columnSpan:1,rowIndex:t,rowSpan:1}).setTitleFillStyle(l),f=e=>m+e/255*(y-m),g={x:0,y:0},b={x:h,y:Math.ceil(s/2)},x=p.addHeatmapGridSeries({columns:a,rows:Math.ceil(n/2),start:g,end:b,dataOrder:"rows",heatmapDataType:"intensity"}).setFillStyle(new r({lut:new o({steps:[{value:0,color:u(0,1,0),label:`${Math.round(f(0))}`},{value:42.5,color:u(270,.84,.2),label:`${Math.round(f(42.5))}`},{value:85,color:u(289,.86,.35),label:`${Math.round(f(85))}`},{value:127.5,color:u(324,.97,.56),label:`${Math.round(f(127.5))}`},{value:170,color:u(1,1,1),label:`${Math.round(f(170))}`},{value:212.5,color:u(44,.64,1),label:`${Math.round(f(212.5))}`},{value:255,color:u(62,.32,1),label:`${Math.round(f(255))}`}],units:"dB",interpolate:!0})})).setWireframeStyle(i).setCursorResultTableFormatter(((e,t,n)=>e.addRow(t.getName()).addRow("X:","",t.axisX.formatValue(n.x)).addRow("Y:","",t.axisY.formatValue(n.y)).addRow("",f(n.intensity).toFixed(1)+" dB")));return x.axisX.setInterval(g.x,b.x).setTickStrategy(d.Empty).setTitleMargin(0).setScrollStrategy(void 0).setMouseInteractions(!1),p.setPadding({left:0,top:8,right:8,bottom:1}).setMouseInteractions(!1),x.axisY.setInterval(g.y,b.y).setTitle(`Channel ${t+1} (Hz)`).setScrollStrategy(c.fitting),{chart:p,series:x}};(async()=>{document.querySelectorAll(".loading").forEach((e=>{e.parentElement.removeChild(e)}));const e=async()=>{const e=await(async e=>{const t=await fetch(e),n=await t.arrayBuffer();return await y.decodeAudioData(n)})(document.head.baseURI+"examples/assets/0802/Truck_driving_by-Jason_Baker-2112866529_edit.wav");(async e=>{const t=g.Dashboard({numberOfColumns:1,numberOfRows:e.channels.length}).setSplitterStyle(i),n=[];for(let a=0;a<e.channels.length;a+=1){const s=x(t,a,e.stride,e.tickCount,e.maxFreq,e.duration,e.channelDbRanges[a].minDecibels,e.channelDbRanges[a].maxDecibels),r=b(e.channels[a],e.stride,e.tickCount).slice(0,e.stride/2);s.series.invalidateIntensityValues({iRow:0,iColumn:0,values:r}),n.push(s)}n[n.length-1].series.axisX.setTickStrategy(d.Numeric).setScrollStrategy(c.fitting).setTitle("Duration (s)").setMouseInteractions(!0);const a=t.addLegendBox().setAutoDispose({type:"max-width",maxWidth:.3}).setPosition({x:100,y:50}).setOrigin({x:1,y:0});n.forEach((e=>a.add(e.chart)));const s=n.map((e=>e.series.axisX));h(...s)})(await(async e=>{const t=new OfflineAudioContext(e.numberOfChannels,e.length,e.sampleRate),n=t.createBufferSource();n.buffer=e,n.channelCount=e.numberOfChannels;const a=t.createChannelSplitter(n.channelCount),s=t.createAnalyser();s.fftSize=p,s.smoothingTimeConstant=.1;const r=[],o=[],l=[];for(let s=0;s<n.channelCount;s+=1)r[s]=new Uint8Array(e.length/f*2048),l[s]=t.createAnalyser(),l[s].smoothingTimeConstant=.1,l[s].fftSize=p,a.connect(l[s],s),o.push({minDecibels:l[s].minDecibels,maxDecibels:l[s].maxDecibels});t.createScriptProcessor=t.createScriptProcessor||t.createJavaScriptNode;const i=t.createScriptProcessor(f,1,1);let c=0;return i.onaudioprocess=e=>{for(let e=0;e<n.channelCount;e+=1){const t=new Uint8Array(r[e].buffer,c,l[e].frequencyBinCount);l[e].getByteFrequencyData(t)}c+=s.frequencyBinCount},n.connect(a),n.connect(i),i.connect(t.destination),n.connect(s),n.start(0),await t.startRendering(),{channels:r,channelDbRanges:o,stride:2048,tickCount:Math.ceil(e.length/f),maxFreq:t.sampleRate/2,duration:e.duration}})(e))};if("suspended"===y.state){const t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0";const n=document.createElement("img");n.crossOrigin="",n.src=document.head.baseURI+"examples/assets/0802/play_circle_outline-24px.svg",n.style.width="100%",n.style.height="100%",t.onclick=()=>{y.resume()},t.appendChild(n);const a=document.querySelector(".chart");let s;a||(s=document.createElement("div"),s.classList.add("inner"),document.body.appendChild(s));const r=a||s;r.appendChild(t),y.onstatechange=()=>{"running"===y.state&&(e(),y.onstatechange=void 0,r.removeChild(t))}}else e()})()}},e=>{e.O(0,[736],(()=>(138,e(e.s=138)))),e.O()}]);